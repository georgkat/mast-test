#### Скрипт:

1. Первый проход, из которого мы берём дату обновления страницы (в header) и существующие ссылки августе (словарь, который будем сохранять на диске). Если это первый запуск переходим к пункту 6.
2. Ждем N времени.
3. Второй парсинг исходной страницы, если дата обновления не совпадает со старой - парсим.
4. Сверяем ссылки.
5. Если какие-то ссылки отличаются от старых - считаем их новыми и составляем словарь.
6. В случае отсутствия ссылок не добавляем их в текст письма.
7. Проходим по каждой из ссылок и проверяем существование ссылки и наличие ссылки на русскую википедию.
8. Составляем письмо.
9. Принимаем новый словарик и дату обновления
10. Идём к пункту 2.

#### Выбор подходов:

Самый простой и очевидный вариант - библиотеки ```bs4``` и ```wikipediaapi```, но они требуют установки внешних пакетов.
К тому же медленнее следующих в списке.
Более сложный, но проще поддерживаемый и более надёжный - регулярные выражения.
Самый неочевидный вариант - .sh скрипт, который будет делать то же, что регулярки.

Я остановился на срединном пути - регулярных выражениях.
В свежепоявившихся данных (особенно о малоизвестных покойных) часто встречаются ошибки и они не всегда "викифицированны", поэтому поиск по "расположению" на странице не подходит.
Я решил использовать для ориентации и поиска классы и тэги в HTML документы, потому что порядок на странице (summary, paragraph) может меняться.
Демона так же можно написать несколькими способами.
Это, например, команда ```unhop``` или маркер ```&``` в командной строке, дополненные проверкой запуска приложения.
Так же возможно создать сервис в ```/etc/systemd/system/``` (пример ниже), но в WSL это невозможно, поэтому я обратился к первому варианту.

```
#!/bin/bash
cat > /etc/systemd/system/wikiparser.service <<EOF

[Unit]
Description = Wikipedia Parser
After = network.target
 
[Service]
Type = simple
ExecStart = python3 /mnt/c/users/georg/pycharmprojects/mast-test/main.py
User = georgkat
Group = 1000
Restart = on-failure
RestartSec = 5
TimeoutStartSec = 30
 
[Install]
WantedBy = multi-user.target # Make it accessible to other users

EOF 

systemctl enable wikiparser
```
